import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { Card, CardContent, CardHeader, CardTitle } from "./ui/card";
import { Tabs, TabsContent, TabsList, TabsTrigger } from "./ui/tabs";
import { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';
export function LeadershipSection({ lensData, configurationData, driverData }) {
    const CustomTooltip = ({ active, payload, label }) => {
        if (active && payload && payload.length) {
            const data = payload[0].payload;
            return (_jsxs("div", { className: "bg-white p-3 border rounded-lg shadow-lg", children: [_jsx("p", { className: "font-medium", children: label }), _jsxs("p", { className: "text-green-600", children: ["Positive Responses: ", data.positivePercentage.toFixed(1), "%"] }), _jsxs("p", { className: "text-sm text-gray-600", children: [data.positiveCount, " of ", data.totalCount, " responses"] })] }));
        }
        return null;
    };
    // Sort data by positive percentage
    const sortedLensData = [...lensData].sort((a, b) => b.positivePercentage - a.positivePercentage);
    const sortedConfigData = [...configurationData].sort((a, b) => b.positivePercentage - a.positivePercentage);
    const sortedDriverData = [...driverData].sort((a, b) => b.positivePercentage - a.positivePercentage);
    return (_jsxs(Card, { children: [_jsxs(CardHeader, { children: [_jsx(CardTitle, { children: "Leadership Module" }), _jsx("p", { className: "text-sm text-muted-foreground", children: "Percentage of \"Often\" and \"Almost always\" responses across leadership dimensions" })] }), _jsx(CardContent, { children: _jsxs(Tabs, { defaultValue: "lens", className: "w-full", children: [_jsxs(TabsList, { className: "grid w-full grid-cols-3", children: [_jsx(TabsTrigger, { value: "lens", children: "By Lens" }), _jsx(TabsTrigger, { value: "configuration", children: "By Configuration" }), _jsx(TabsTrigger, { value: "drivers", children: "By Driver" })] }), _jsxs(TabsContent, { value: "lens", className: "space-y-4", children: [_jsx("div", { className: "h-80", children: _jsx(ResponsiveContainer, { width: "100%", height: "100%", children: _jsxs(BarChart, { data: sortedLensData, margin: { top: 20, right: 30, left: 20, bottom: 60 }, children: [_jsx(CartesianGrid, { strokeDasharray: "3 3" }), _jsx(XAxis, { dataKey: "driver", angle: -45, textAnchor: "end", height: 80 }), _jsx(YAxis, { domain: [0, 100], label: { value: 'Positive %', angle: -90, position: 'insideLeft' } }), _jsx(Tooltip, { content: _jsx(CustomTooltip, {}) }), _jsx(Bar, { dataKey: "positivePercentage", fill: "#16a34a", radius: [4, 4, 0, 0] })] }) }) }), _jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4", children: sortedLensData.map((lens) => (_jsxs("div", { className: "text-center p-4 bg-gray-50 rounded-lg", children: [_jsxs("div", { className: "text-2xl font-bold text-green-600 mb-1", children: [lens.positivePercentage.toFixed(1), "%"] }), _jsx("div", { className: "text-sm font-medium text-gray-700", children: lens.driver }), _jsxs("div", { className: "text-xs text-gray-500 mt-1", children: [lens.positiveCount, "/", lens.totalCount, " positive"] })] }, lens.driver))) })] }), _jsxs(TabsContent, { value: "configuration", className: "space-y-4", children: [_jsx("div", { className: "h-80", children: _jsx(ResponsiveContainer, { width: "100%", height: "100%", children: _jsxs(BarChart, { data: sortedConfigData, margin: { top: 20, right: 30, left: 20, bottom: 60 }, children: [_jsx(CartesianGrid, { strokeDasharray: "3 3" }), _jsx(XAxis, { dataKey: "driver", angle: -45, textAnchor: "end", height: 80 }), _jsx(YAxis, { domain: [0, 100], label: { value: 'Positive %', angle: -90, position: 'insideLeft' } }), _jsx(Tooltip, { content: _jsx(CustomTooltip, {}) }), _jsx(Bar, { dataKey: "positivePercentage", fill: "#059669", radius: [4, 4, 0, 0] })] }) }) }), _jsx("div", { className: "space-y-2", children: sortedConfigData.map((config) => (_jsxs("div", { className: "flex justify-between items-center p-3 bg-gray-50 rounded-lg", children: [_jsx("span", { className: "font-medium", children: config.driver }), _jsxs("div", { className: "flex items-center gap-3", children: [_jsx("div", { className: "w-32 bg-gray-200 rounded-full h-2", children: _jsx("div", { className: "bg-green-600 h-2 rounded-full", style: { width: `${config.positivePercentage}%` } }) }), _jsxs("span", { className: "text-sm font-bold text-green-600 w-16 text-right", children: [config.positivePercentage.toFixed(1), "%"] })] })] }, config.driver))) })] }), _jsxs(TabsContent, { value: "drivers", className: "space-y-4", children: [_jsx("div", { className: "h-96", children: _jsx(ResponsiveContainer, { width: "100%", height: "100%", children: _jsxs(BarChart, { data: sortedDriverData, margin: { top: 20, right: 30, left: 20, bottom: 120 }, children: [_jsx(CartesianGrid, { strokeDasharray: "3 3" }), _jsx(XAxis, { dataKey: "driver", angle: -45, textAnchor: "end", height: 140, fontSize: 11 }), _jsx(YAxis, { domain: [0, 100], label: { value: 'Positive %', angle: -90, position: 'insideLeft' } }), _jsx(Tooltip, { content: _jsx(CustomTooltip, {}) }), _jsx(Bar, { dataKey: "positivePercentage", fill: "#0d9488", radius: [4, 4, 0, 0] })] }) }) }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [_jsxs("div", { children: [_jsx("h4", { className: "font-medium mb-3 text-green-700", children: "Top Performing Drivers" }), _jsx("div", { className: "space-y-2", children: sortedDriverData.slice(0, 8).map((driver, index) => (_jsxs("div", { className: "flex justify-between items-center text-sm", children: [_jsx("span", { className: "flex-1 truncate pr-2", children: driver.driver }), _jsxs("span", { className: "font-bold text-green-600 w-16 text-right", children: [driver.positivePercentage.toFixed(1), "%"] })] }, driver.driver))) })] }), _jsxs("div", { children: [_jsx("h4", { className: "font-medium mb-3 text-orange-700", children: "Areas for Improvement" }), _jsx("div", { className: "space-y-2", children: sortedDriverData.slice(-8).reverse().map((driver, index) => (_jsxs("div", { className: "flex justify-between items-center text-sm", children: [_jsx("span", { className: "flex-1 truncate pr-2", children: driver.driver }), _jsxs("span", { className: "font-bold text-orange-600 w-16 text-right", children: [driver.positivePercentage.toFixed(1), "%"] })] }, driver.driver))) })] })] })] })] }) })] }));
}
